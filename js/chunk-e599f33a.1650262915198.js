(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e599f33a"],{e5bc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-padding"},[a("div",{staticClass:"panel-wrap"},[a("div",{staticClass:"panel-body"},[a("div",{staticClass:"table-search"},[a("el-form",{staticClass:"input-custom",attrs:{inline:!0}},[a("div",{staticClass:"table-search-user"},[a("el-form-item",{attrs:{label:"客户名称"}},[a("tree-client",{ref:"clientTree",staticStyle:{width:"180px",float:"right"},on:{inited:e.handleSearch}})],1),a("el-form-item",{attrs:{label:"查询日期"}},[a("el-date-picker",{staticStyle:{width:"260px","margin-left":"10px"},attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterange,callback:function(t){e.daterange=t},expression:"daterange"}})],1)],1),a("div",{staticClass:"table-search-btn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{staticStyle:{width:"80px","margin-right":"10px"},attrs:{icon:"el-icon-upload2",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)])],1),a("div",{staticClass:"table-list",staticStyle:{"margin-top":"20px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"",stripe:""},on:{"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{prop:"client_name",label:"所属客户",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"vhc_count",label:"车辆总数",align:"center","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"vhc_online",label:"上线车辆数",align:"center",sortable:"custom","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"vhc_overspeed",label:"车辆超速总次数",align:"center",sortable:"custom","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"vhc_average",label:"日平均超速次数",align:"center",sortable:"custom","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("roundFormat")(t.row.vhc_average))+"\n          ")]}}])})],1),a("el-pagination",{attrs:{background:"","page-sizes":[10,20,50,100,200],"page-size":10,"current-page":e.params.pageNum,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}})],1)])])])},r=[],i=(a("6b54"),a("87b3"),a("f980")),s=a("d7bb"),l=a("b438"),o=a("cf45"),c=a("2566"),p={components:{treeClient:l["a"]},data:function(){return{auth:s["a"],dataList:[],daterange:[],params:{clientIds:"",pageNum:1,pageSize:10,btime:null,etime:null,prop:"",order:""},loading:!1,total:0}},filters:{roundFormat:function(e){return Object(o["p"])(e,2)}},mounted:function(){setTimeout((function(){var e=$(".table-search-btn").width();$(".table-search-wrap").css("margin-right",e)}),1e3);var e=new Date;this.daterange=[Object(o["j"])(e),Object(o["j"])(e)]},methods:{loadData:function(){var e=this,t=this.$refs["clientTree"].getTreeValue();0!=t.length?(this.daterange&&2==this.daterange.length?(this.params.btime=this.daterange[0],this.params.etime=this.daterange[1]):(this.params.btime=null,this.params.etime=null),this.loading=!0,this.params.clientIds=t.toString(),Object(i["a"])(this.params).then((function(t){e.loading=!1,"0000"==t.data.code?(e.dataList=t.data.data.pageList,e.total=t.data.data.total):e.$message.warning(t.data.message)}))):this.$message.warning("请选择客户后查询！")},handleSearch:function(){this.params["pageNum"]=1,this.loadData()},handlePageChange:function(e){this.params.pageNum=e,this.loadData()},handleSizeChange:function(e){this.params.pageSize=e,this.params.pageNum=1,this.loadData()},handleTargetChange:function(){1!=this.params.target&&4==this.params.type&&(this.params.type=0)},handleSortChange:function(e){var t=e.order;"ascending"==t&&(t="asc"),"descending"==t&&(t="desc"),this.params.prop=e.prop,this.params.order=t,this.loadData()},indexMethod:function(e){return(this.params.pageNum-1)*this.params.pageSize+e+1},handleExport:function(){var e="/video/report/supervise/client/averageOverspeed/export";Object(c["a"])(e,this.params)}}},d=p,h=a("2877"),u=Object(h["a"])(d,n,r,!1,null,null,null);t["default"]=u.exports},f980:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var n=a("b775");function r(e){return Object(n["a"])({url:"/video/report/supervise/client/onlinePosition",method:"post",params:e})}function i(e){return Object(n["a"])({url:"/video/report/supervise/client/averageOverspeed",method:"post",params:e})}}}]);